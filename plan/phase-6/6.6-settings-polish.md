# 6.6 Settings & UI Polish

**Objective:** Comprehensive settings panel, dark mode, and UI refinements.

## Implementation

### Settings View

Create `Views/SettingsView.swift`:

```swift
import SwiftUI

struct SettingsView: View {
    @AppStorage("enableNotifications") private var enableNotifications = true
    @AppStorage("enableSounds") private var enableSounds = true
    @AppStorage("launchAtLogin") private var launchAtLogin = false
    @AppStorage("menuBarMode") private var menuBarMode = false
    @AppStorage("appearance") private var appearance = "auto"

    var body: some View {
        TabView {
            GeneralSettings()
                .tabItem { Label("General", systemImage: "gear") }

            BlockingSettings()
                .tabItem { Label("Blocking", systemImage: "shield") }

            NotificationSettings()
                .tabItem { Label("Notifications", systemImage: "bell") }

            AdvancedSettings()
                .tabItem { Label("Advanced", systemImage: "wrench") }
        }
        .frame(width: 500, height: 400)
    }
}

struct GeneralSettings: View {
    @AppStorage("launchAtLogin") private var launchAtLogin = false
    @AppStorage("menuBarMode") private var menuBarMode = false

    var body: some View {
        Form {
            Toggle("Launch at login", isOn: $launchAtLogin)
            Toggle("Show in menu bar", isOn: $menuBarMode)

            Picker("Appearance", selection: .constant("auto")) {
                Text("Auto").tag("auto")
                Text("Light").tag("light")
                Text("Dark").tag("dark")
            }
        }
        .padding()
    }
}
```

### Dark Mode Support

```swift
extension View {
    func adaptiveForeground() -> some View {
        self.foregroundColor(Color.primary)
    }

    func adaptiveBackground() -> some View {
        self.background(Color(.controlBackgroundColor))
    }
}
```

### Animations

Add smooth transitions:

```swift
extension View {
    func smoothTransition() -> some View {
        self.transition(.asymmetric(
            insertion: .move(edge: .trailing).combined(with: .opacity),
            removal: .move(edge: .leading).combined(with: .opacity)
        ))
    }
}
```

## Testing

✅ Dark mode works
✅ Settings persist
✅ Launch at login works
✅ Animations smooth

## Estimated Time

**3-4 hours**
