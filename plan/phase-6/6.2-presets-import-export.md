# 6.2 Presets & Import/Export

**Objective:** Pre-built block lists and import/export functionality for sharing configurations.

## Implementation

### Preset Lists

Create `Models/Presets.swift`:

```swift
struct BlockListPreset: Codable, Identifiable {
    let id: UUID
    let name: String
    let category: String
    let domains: [String]
    let apps: [String]
    let description: String
}

class PresetsLibrary {
    static let shared = PresetsLibrary()

    let presets: [BlockListPreset] = [
        BlockListPreset(
            id: UUID(),
            name: "Social Media",
            category: "Focus",
            domains: ["facebook.com", "twitter.com", "instagram.com", "tiktok.com", "reddit.com"],
            apps: [],
            description: "Block all major social media platforms"
        ),
        BlockListPreset(
            id: UUID(),
            name: "Video Streaming",
            category: "Entertainment",
            domains: ["youtube.com", "netflix.com", "hulu.com", "disneyplus.com", "twitch.tv"],
            apps: [],
            description: "Block video streaming services"
        ),
        BlockListPreset(
            id: UUID(),
            name: "News Sites",
            category: "Information",
            domains: ["cnn.com", "bbc.com", "nytimes.com", "theguardian.com", "washingtonpost.com"],
            apps: [],
            description: "Block news websites"
        ),
        BlockListPreset(
            id: UUID(),
            name: "Gaming",
            category: "Games",
            domains: ["steam.com", "epicgames.com", "twitch.tv"],
            apps: ["Steam", "Epic Games Launcher", "Discord"],
            description: "Block gaming platforms and apps"
        )
    ]
}
```

### Import/Export Manager

Create `Services/ImportExportManager.swift`:

```swift
import Foundation

struct BlockListExport: Codable {
    let version: String
    let exportDate: Date
    let blockedDomains: [String]
    let blockedApps: [String]
    let presetName: String?
}

class ImportExportManager {
    static let shared = ImportExportManager()

    func exportCurrentList(name: String?) -> URL? {
        let export = BlockListExport(
            version: "1.0",
            exportDate: Date(),
            blockedDomains: BlockListManager.shared.blockedItems.filter { $0.type == .website }.map { $0.domain },
            blockedApps: BlockListManager.shared.blockedItems.filter { $0.type == .application }.map { $0.name },
            presetName: name
        )

        guard let data = try? JSONEncoder().encode(export) else { return nil }

        let filename = "focusdragon-\\(name ?? "export")-\\(Date().timeIntervalSince1970).json"
        let url = FileManager.default.temporaryDirectory.appendingPathComponent(filename)

        try? data.write(to: url)
        return url
    }

    func importList(from url: URL) throws {
        let data = try Data(contentsOf: url)
        let export = try JSONDecoder().decode(BlockListExport.self, from: data)

        for domain in export.blockedDomains {
            BlockListManager.shared.addDomain(domain)
        }

        for app in export.blockedApps {
            // Find and add app
        }
    }
}
```

## Testing

✅ Export current list
✅ Import from file
✅ Presets apply correctly
✅ File format validation

## Estimated Time

**2 hours**
